<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Polls:</h1>
			<ul class="nav nav-pills nav-justified" ng-show="isLoggedIn()">
				<li role="presentation" ng-class="{'active': !justUserPolls}" ng-click="justUserPolls = false"><a href="#">All polls</a></li>
				<li role="presentation" ng-class="{'active':  justUserPolls}" ng-click="justUserPolls = true"><a href="#">My polls</a></li>
			</ul>
			<br />
			<li class="list-group-item" ng-repeat="poll in allPolls" ng-show="showPoll(poll)">
				<strong>{{poll.title}}</strong><br>
				<span class="text-muted">{{poll.question}}</span>
				<a ng-click="deletePoll(poll)" ng-show="pollBelongsToUser(poll)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a>
				<a ng-click="editPoll(poll)" ng-show="pollBelongsToUser(poll)"><span class="glyphicon glyphicon-cog pull-right"></span></a>
				<a ng-click="choosePoll(poll)"><span class="glyphicon glyphicon-search pull-right"></span></a>
			</li>
		</div>
	</div>

	<div class="row" ng-show="isLoggedIn()">
		<div class="col-lg-12">
			<h1 class="page-header">New Poll:</h1>
			<form class="poll-form">
				<label>Just insert the title and go live:</label>
				<p class="input-group">
					<input type="text" class="form-control" placeholder="Add a new poll here." ng-model="newPoll">
					<span class="input-group-btn">
						<button type="submit" class="btn btn-primary" ng-click="addPoll()">Add New</button>
					</span>
				</p>
			</form>
		</div>
	</div>
</div>
